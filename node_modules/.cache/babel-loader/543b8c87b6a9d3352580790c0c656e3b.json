{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{useCallback,useEffect,useMemo,useState}from'react';import{PublicKey}from'@solana/web3.js';import BN from'bn.js';export function isValidPublicKey(key){if(!key){return false;}try{new PublicKey(key);return true;}catch(_unused){return false;}}export function sleep(_x){return _sleep.apply(this,arguments);}function _sleep(){_sleep=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ms){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",new Promise(function(resolve){return setTimeout(resolve,ms);}));case 1:case\"end\":return _context.stop();}}},_callee);}));return _sleep.apply(this,arguments);}export var percentFormat=new Intl.NumberFormat(undefined,{style:'percent',minimumFractionDigits:2,maximumFractionDigits:2});export function floorToDecimal(value,decimals){return decimals?Math.floor(value*Math.pow(10,decimals))/Math.pow(10,decimals):Math.floor(value);}export function roundToDecimal(value,decimals){return decimals?Math.round(value*Math.pow(10,decimals))/Math.pow(10,decimals):value;}export function getDecimalCount(value){if(!isNaN(value)&&Math.floor(value)!==value&&value.toString().includes('.'))return value.toString().split('.')[1].length||0;if(!isNaN(value)&&Math.floor(value)!==value&&value.toString().includes('e'))return parseInt(value.toString().split('e-')[1]||'0');return 0;}export function divideBnToNumber(numerator,denominator){var quotient=numerator.div(denominator).toNumber();var rem=numerator.umod(denominator);var gcd=rem.gcd(denominator);return quotient+rem.div(gcd).toNumber()/denominator.div(gcd).toNumber();}export function getTokenMultiplierFromDecimals(decimals){return new BN(10).pow(new BN(decimals));}var localStorageListeners={};export function useLocalStorageStringState(key){var defaultState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var state=localStorage.getItem(key)||defaultState;var _useState=useState(key+'\\n'+state),_useState2=_slicedToArray(_useState,2),notify=_useState2[1];useEffect(function(){if(!localStorageListeners[key]){localStorageListeners[key]=[];}localStorageListeners[key].push(notify);return function(){localStorageListeners[key]=localStorageListeners[key].filter(function(listener){return listener!==notify;});if(localStorageListeners[key].length===0){delete localStorageListeners[key];}};},[key]);var setState=useCallback(function(newState){var _localStorageListener;var changed=state!==newState;if(!changed){return;}if(newState===null){localStorage.removeItem(key);}else{localStorage.setItem(key,newState);}(_localStorageListener=localStorageListeners[key])===null||_localStorageListener===void 0?void 0:_localStorageListener.forEach(function(listener){return listener(key+'\\n'+newState);});},[state,key]);return[state,setState];}export function useLocalStorageState(key){var defaultState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var _useLocalStorageStrin=useLocalStorageStringState(key,JSON.stringify(defaultState)),_useLocalStorageStrin2=_slicedToArray(_useLocalStorageStrin,2),stringState=_useLocalStorageStrin2[0],setStringState=_useLocalStorageStrin2[1];return[useMemo(function(){return stringState&&JSON.parse(stringState);},[stringState]),function(newState){return setStringState(JSON.stringify(newState));}];}export function useEffectAfterTimeout(effect,timeout){useEffect(function(){var handle=setTimeout(effect,timeout);return function(){return clearTimeout(handle);};});}export function useListener(emitter,eventName){var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),forceUpdate=_useState4[1];useEffect(function(){var listener=function listener(){return forceUpdate(function(i){return i+1;});};emitter.on(eventName,listener);return function(){return emitter.removeListener(eventName,listener);};},[emitter,eventName]);}export function abbreviateAddress(address){var size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:4;var base58=address.toBase58();return base58.slice(0,size)+'…'+base58.slice(-size);}export function isEqual(obj1,obj2,keys){if(!keys&&Object.keys(obj1).length!==Object.keys(obj2).length){return false;}keys=keys||Object.keys(obj1);var _iterator=_createForOfIteratorHelper(keys),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var k=_step.value;if(obj1[k]!==obj2[k]){// shallow comparison\nreturn false;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return true;}export function flatten(obj,_ref){var _ref$prefix=_ref.prefix,prefix=_ref$prefix===void 0?'':_ref$prefix,restrictTo=_ref.restrictTo;var restrict=restrictTo;if(restrict){restrict=restrict.filter(function(k){return obj.hasOwnProperty(k);});}var result={};(function recurse(obj,current,keys){(keys||Object.keys(obj)).forEach(function(key){var value=obj[key];var newKey=current?current+'.'+key:key;// joined key with dot\nif(value&&typeof value==='object'){// @ts-ignore\nrecurse(value,newKey);// nested object\n}else{result[newKey]=value;}});})(obj,prefix,restrict);return result;}","map":{"version":3,"sources":["/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/src/utils/utils.tsx"],"names":["useCallback","useEffect","useMemo","useState","PublicKey","BN","isValidPublicKey","key","sleep","ms","Promise","resolve","setTimeout","percentFormat","Intl","NumberFormat","undefined","style","minimumFractionDigits","maximumFractionDigits","floorToDecimal","value","decimals","Math","floor","roundToDecimal","round","getDecimalCount","isNaN","toString","includes","split","length","parseInt","divideBnToNumber","numerator","denominator","quotient","div","toNumber","rem","umod","gcd","getTokenMultiplierFromDecimals","pow","localStorageListeners","useLocalStorageStringState","defaultState","state","localStorage","getItem","notify","push","filter","listener","setState","newState","changed","removeItem","setItem","forEach","useLocalStorageState","JSON","stringify","stringState","setStringState","parse","useEffectAfterTimeout","effect","timeout","handle","clearTimeout","useListener","emitter","eventName","forceUpdate","i","on","removeListener","abbreviateAddress","address","size","base58","toBase58","slice","isEqual","obj1","obj2","keys","Object","k","flatten","obj","prefix","restrictTo","restrict","hasOwnProperty","result","recurse","current","newKey"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useMemo, useState } from 'react';\nimport { PublicKey } from '@solana/web3.js';\nimport BN from 'bn.js';\n\nexport function isValidPublicKey(key) {\n  if (!key) {\n    return false;\n  }\n  try {\n    new PublicKey(key);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport async function sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\nexport const percentFormat = new Intl.NumberFormat(undefined, {\n  style: 'percent',\n  minimumFractionDigits: 2,\n  maximumFractionDigits: 2,\n});\n\nexport function floorToDecimal(\n  value: number,\n  decimals: number | undefined | null,\n) {\n  return decimals\n    ? Math.floor(value * 10 ** decimals) / 10 ** decimals\n    : Math.floor(value);\n}\n\nexport function roundToDecimal(\n  value: number,\n  decimals: number | undefined | null,\n) {\n  return decimals ? Math.round(value * 10 ** decimals) / 10 ** decimals : value;\n}\n\nexport function getDecimalCount(value): number {\n  if (\n    !isNaN(value) &&\n    Math.floor(value) !== value &&\n    value.toString().includes('.')\n  )\n    return value.toString().split('.')[1].length || 0;\n  if (\n    !isNaN(value) &&\n    Math.floor(value) !== value &&\n    value.toString().includes('e')\n  )\n    return parseInt(value.toString().split('e-')[1] || '0');\n  return 0;\n}\n\nexport function divideBnToNumber(numerator: BN, denominator: BN): number {\n  const quotient = numerator.div(denominator).toNumber();\n  const rem = numerator.umod(denominator);\n  const gcd = rem.gcd(denominator);\n  return quotient + rem.div(gcd).toNumber() / denominator.div(gcd).toNumber();\n}\n\nexport function getTokenMultiplierFromDecimals(decimals: number): BN {\n  return new BN(10).pow(new BN(decimals));\n}\n\nconst localStorageListeners = {};\n\nexport function useLocalStorageStringState(\n  key: string,\n  defaultState: string | null = null,\n): [string | null, (newState: string | null) => void] {\n  const state = localStorage.getItem(key) || defaultState;\n\n  const [, notify] = useState(key + '\\n' + state);\n\n  useEffect(() => {\n    if (!localStorageListeners[key]) {\n      localStorageListeners[key] = [];\n    }\n    localStorageListeners[key].push(notify);\n    return () => {\n      localStorageListeners[key] = localStorageListeners[key].filter(\n        (listener) => listener !== notify,\n      );\n      if (localStorageListeners[key].length === 0) {\n        delete localStorageListeners[key];\n      }\n    };\n  }, [key]);\n\n  const setState = useCallback<(newState: string | null) => void>(\n    (newState) => {\n      const changed = state !== newState;\n      if (!changed) {\n        return;\n      }\n\n      if (newState === null) {\n        localStorage.removeItem(key);\n      } else {\n        localStorage.setItem(key, newState);\n      }\n      localStorageListeners[key]?.forEach((listener) =>\n        listener(key + '\\n' + newState),\n      );\n    },\n    [state, key],\n  );\n\n  return [state, setState];\n}\n\nexport function useLocalStorageState<T = any>(\n  key: string,\n  defaultState: T | null = null,\n): [T, (newState: T) => void] {\n  let [stringState, setStringState] = useLocalStorageStringState(\n    key,\n    JSON.stringify(defaultState),\n  );\n  return [\n    useMemo(() => stringState && JSON.parse(stringState), [stringState]),\n    (newState) => setStringState(JSON.stringify(newState)),\n  ];\n}\n\nexport function useEffectAfterTimeout(effect, timeout) {\n  useEffect(() => {\n    const handle = setTimeout(effect, timeout);\n    return () => clearTimeout(handle);\n  });\n}\n\nexport function useListener(emitter, eventName) {\n  const [, forceUpdate] = useState(0);\n  useEffect(() => {\n    const listener = () => forceUpdate((i) => i + 1);\n    emitter.on(eventName, listener);\n    return () => emitter.removeListener(eventName, listener);\n  }, [emitter, eventName]);\n}\n\nexport function abbreviateAddress(address: PublicKey, size = 4) {\n  const base58 = address.toBase58();\n  return base58.slice(0, size) + '…' + base58.slice(-size);\n}\n\nexport function isEqual(obj1, obj2, keys) {\n  if (!keys && Object.keys(obj1).length !== Object.keys(obj2).length) {\n    return false;\n  }\n  keys = keys || Object.keys(obj1);\n  for (const k of keys) {\n    if (obj1[k] !== obj2[k]) {\n      // shallow comparison\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function flatten(obj, { prefix = '', restrictTo }) {\n  let restrict = restrictTo;\n  if (restrict) {\n    restrict = restrict.filter((k) => obj.hasOwnProperty(k));\n  }\n  const result = {};\n  (function recurse(obj, current, keys) {\n    (keys || Object.keys(obj)).forEach((key) => {\n      const value = obj[key];\n      const newKey = current ? current + '.' + key : key; // joined key with dot\n      if (value && typeof value === 'object') {\n        // @ts-ignore\n        recurse(value, newKey); // nested object\n      } else {\n        result[newKey] = value;\n      }\n    });\n  })(obj, prefix, restrict);\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}