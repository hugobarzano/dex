{"ast":null,"code":"var _jsxFileName = \"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/serum-dex-ui/src/components/DeprecatedMarketsInstructions.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Divider, Spin, Typography } from 'antd';\nimport React from 'react';\nimport { useGetOpenOrdersForDeprecatedMarkets, useBalancesForDeprecatedMarkets, useUnmigratedOpenOrdersAccounts } from '../utils/markets';\nimport FloatingElement from './layout/FloatingElement';\nimport CheckOutlined from '@ant-design/icons/lib/icons/CheckOutlined';\nimport BalancesTable from './UserInfoTable/BalancesTable';\nimport OpenOrderTable from './UserInfoTable/OpenOrderTable';\nimport SyncOutlined from '@ant-design/icons/lib/icons/SyncOutlined';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Title\n} = Typography;\nexport default function DeprecatedMarketsInstructions(_ref) {\n  _s();\n\n  let {\n    switchToLiveMarkets\n  } = _ref;\n  const balances = useBalancesForDeprecatedMarkets();\n  const {\n    openOrders,\n    loaded,\n    refreshOpenOrders\n  } = useGetOpenOrdersForDeprecatedMarkets();\n  const {\n    refresh\n  } = useUnmigratedOpenOrdersAccounts();\n  const needToCancelOrders = !openOrders || openOrders.length > 0;\n  const filteredBalances = balances && balances.filter(_ref2 => {\n    let {\n      orders,\n      unsettled\n    } = _ref2;\n    return orders > 0 || unsettled > 0;\n  });\n  const needToSettleFunds = filteredBalances && filteredBalances.length > 0;\n  return /*#__PURE__*/_jsxDEV(FloatingElement, {\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      level: 4,\n      style: {\n        color: 'rgba(255, 255, 255, 1)'\n      },\n      children: \"Migrate new markets\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"Markets on older versions of the DEX or using Wrapped USDT are now deprecated. To migrate over to the new markets, please cancel your orders and settle your funds on old markets. To convert from Wrapped USDT to Native USDT use sollet.io.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 20,\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => refresh(true),\n        children: [/*#__PURE__*/_jsxDEV(SyncOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), \" Refresh data\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), !balances ? /*#__PURE__*/_jsxDEV(Spin, {\n      size: \"large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {\n        children: [!needToCancelOrders && /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 37\n        }, this), \" Cancel your orders\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), needToCancelOrders ? loaded ? /*#__PURE__*/_jsxDEV(OpenOrderTable, {\n        openOrders: openOrders,\n        onCancelSuccess: () => {\n          setTimeout(() => {\n            refresh();\n            refreshOpenOrders();\n          }, 1000); // Wait so that on-chain account state reflects the update\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 15\n      }, this) : null, /*#__PURE__*/_jsxDEV(Divider, {\n        children: [!needToSettleFunds && /*#__PURE__*/_jsxDEV(CheckOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 36\n        }, this), \" Settle your funds\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), needToSettleFunds && /*#__PURE__*/_jsxDEV(BalancesTable, {\n        balances: filteredBalances,\n        hideWalletBalance: true,\n        showMarket: true,\n        onSettleSuccess: () => {\n          setTimeout(refresh, 1000); // Wait so that on-chain account state reflects the update\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        children: \"Switch to upgraded markets\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: switchToLiveMarkets,\n          disabled: needToSettleFunds || needToCancelOrders,\n          children: \"Switch to new markets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DeprecatedMarketsInstructions, \"DE3UXE2V3IDz/h/3ZITNf/5GYnA=\", false, function () {\n  return [useBalancesForDeprecatedMarkets, useGetOpenOrdersForDeprecatedMarkets, useUnmigratedOpenOrdersAccounts];\n});\n\n_c = DeprecatedMarketsInstructions;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeprecatedMarketsInstructions\");","map":{"version":3,"sources":["/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/serum-dex-ui/src/components/DeprecatedMarketsInstructions.js"],"names":["Button","Divider","Spin","Typography","React","useGetOpenOrdersForDeprecatedMarkets","useBalancesForDeprecatedMarkets","useUnmigratedOpenOrdersAccounts","FloatingElement","CheckOutlined","BalancesTable","OpenOrderTable","SyncOutlined","Title","DeprecatedMarketsInstructions","switchToLiveMarkets","balances","openOrders","loaded","refreshOpenOrders","refresh","needToCancelOrders","length","filteredBalances","filter","orders","unsettled","needToSettleFunds","color","marginTop","display","justifyContent","setTimeout"],"mappings":"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","sourcesContent":["import { Button, Divider, Spin, Typography } from 'antd';\nimport React from 'react';\nimport {\n  useGetOpenOrdersForDeprecatedMarkets,\n  useBalancesForDeprecatedMarkets,\n  useUnmigratedOpenOrdersAccounts,\n} from '../utils/markets';\nimport FloatingElement from './layout/FloatingElement';\nimport CheckOutlined from '@ant-design/icons/lib/icons/CheckOutlined';\nimport BalancesTable from './UserInfoTable/BalancesTable';\nimport OpenOrderTable from './UserInfoTable/OpenOrderTable';\nimport SyncOutlined from '@ant-design/icons/lib/icons/SyncOutlined';\n\nconst { Title } = Typography;\n\nexport default function DeprecatedMarketsInstructions({ switchToLiveMarkets }) {\n  const balances = useBalancesForDeprecatedMarkets();\n  const {\n    openOrders,\n    loaded,\n    refreshOpenOrders,\n  } = useGetOpenOrdersForDeprecatedMarkets();\n\n  const { refresh } = useUnmigratedOpenOrdersAccounts();\n  const needToCancelOrders = !openOrders || openOrders.length > 0;\n  const filteredBalances =\n    balances &&\n    balances.filter(({ orders, unsettled }) => orders > 0 || unsettled > 0);\n  const needToSettleFunds = filteredBalances && filteredBalances.length > 0;\n  return (\n    <FloatingElement>\n      <Title level={4} style={{ color: 'rgba(255, 255, 255, 1)' }}>\n        Migrate new markets\n      </Title>\n      <Typography>\n        Markets on older versions of the DEX or using Wrapped USDT are now deprecated. To migrate over\n        to the new markets, please cancel your orders and settle your funds on old markets. To convert\n        from Wrapped USDT to Native USDT use sollet.io.\n      </Typography>\n      <div style={{ marginTop: 20, display: 'flex', justifyContent: 'center' }}>\n        <Button onClick={() => refresh(true)}>\n          <SyncOutlined /> Refresh data\n        </Button>\n      </div>\n      {!balances ? (\n        <Spin size=\"large\" />\n      ) : (\n        <>\n          <Divider>\n            {!needToCancelOrders && <CheckOutlined />} Cancel your orders\n          </Divider>\n          {needToCancelOrders ? (\n            loaded ? (\n              <OpenOrderTable\n                openOrders={openOrders}\n                onCancelSuccess={() => {\n                  setTimeout(() => {\n                    refresh();\n                    refreshOpenOrders();\n                  }, 1000); // Wait so that on-chain account state reflects the update\n                }}\n              />\n            ) : (\n              <Spin size=\"large\" />\n            )\n          ) : null}\n          <Divider>\n            {!needToSettleFunds && <CheckOutlined />} Settle your funds\n          </Divider>\n          {needToSettleFunds && (\n            <BalancesTable\n              balances={filteredBalances}\n              hideWalletBalance\n              showMarket\n              onSettleSuccess={() => {\n                setTimeout(refresh, 1000); // Wait so that on-chain account state reflects the update\n              }}\n            />\n          )}\n          <Divider>Switch to upgraded markets</Divider>\n          <div style={{ display: 'flex', justifyContent: 'center' }}>\n            <Button\n              onClick={switchToLiveMarkets}\n              disabled={needToSettleFunds || needToCancelOrders}\n            >\n              Switch to new markets\n            </Button>\n          </div>\n        </>\n      )}\n    </FloatingElement>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}