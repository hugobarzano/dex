{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/fork/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NameRegistryState = void 0;\n\nvar web3_js_1 = require(\"@solana/web3.js\");\n\nvar NameRegistryState = /*#__PURE__*/function () {\n  function NameRegistryState(obj) {\n    _classCallCheck(this, NameRegistryState);\n\n    this.parentName = new web3_js_1.PublicKey(obj.parentName);\n    this.owner = new web3_js_1.PublicKey(obj.owner);\n    this.class = new web3_js_1.PublicKey(obj.class);\n    this.data = Buffer.from(obj.data);\n  }\n\n  _createClass(NameRegistryState, null, [{\n    key: \"deserialize\",\n    value: function deserialize(buffer) {\n      return new NameRegistryState({\n        parentName: buffer.slice(0, 32),\n        owner: buffer.slice(32, 64),\n        class: buffer.slice(64, 96),\n        data: buffer.slice(96, buffer.length)\n      });\n    }\n  }, {\n    key: \"retrieve\",\n    value: function () {\n      var _retrieve = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(connection, nameAccountKey) {\n        var nameAccount, res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return connection.getAccountInfo(nameAccountKey, 'processed');\n\n              case 2:\n                nameAccount = _context.sent;\n\n                if (nameAccount) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error('Invalid name account provided');\n\n              case 5:\n                res = NameRegistryState.deserialize(nameAccount.data);\n                return _context.abrupt(\"return\", res);\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function retrieve(_x, _x2) {\n        return _retrieve.apply(this, arguments);\n      }\n\n      return retrieve;\n    }()\n  }]);\n\n  return NameRegistryState;\n}();\n\nexports.NameRegistryState = NameRegistryState;","map":{"version":3,"sources":["../src/state.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,IAAA,SAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;IAEa,iB;AAMX,6BAAY,GAAZ,EAKC;AAAA;;AACC,SAAK,UAAL,GAAkB,IAAI,SAAA,CAAA,SAAJ,CAAc,GAAG,CAAC,UAAlB,CAAlB;AACA,SAAK,KAAL,GAAa,IAAI,SAAA,CAAA,SAAJ,CAAc,GAAG,CAAC,KAAlB,CAAb;AACA,SAAK,KAAL,GAAa,IAAI,SAAA,CAAA,SAAJ,CAAc,GAAG,CAAC,KAAlB,CAAb;AACA,SAAK,IAAL,GAAY,MAAM,CAAC,IAAP,CAAY,GAAG,CAAC,IAAhB,CAAZ;AACD;;;;WAED,qBAAmB,MAAnB,EAAiC;AAC/B,aAAO,IAAI,iBAAJ,CAAsB;AAC3B,QAAA,UAAU,EAAE,MAAM,CAAC,KAAP,CAAa,CAAb,EAAgB,EAAhB,CADe;AAE3B,QAAA,KAAK,EAAE,MAAM,CAAC,KAAP,CAAa,EAAb,EAAiB,EAAjB,CAFoB;AAG3B,QAAA,KAAK,EAAE,MAAM,CAAC,KAAP,CAAa,EAAb,EAAiB,EAAjB,CAHoB;AAI3B,QAAA,IAAI,EAAE,MAAM,CAAC,KAAP,CAAa,EAAb,EAAiB,MAAM,CAAC,MAAxB;AAJqB,OAAtB,CAAP;AAMD;;;;+EAED,iBACE,UADF,EAEE,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAI4B,UAAU,CAAC,cAAX,CACxB,cADwB,EAExB,WAFwB,CAJ5B;;AAAA;AAIQ,gBAAA,WAJR;;AAAA,oBAQO,WARP;AAAA;AAAA;AAAA;;AAAA,sBASU,IAAI,KAAJ,CAAU,+BAAV,CATV;;AAAA;AAYQ,gBAAA,GAZR,GAYiC,iBAAiB,CAAC,WAAlB,CAC7B,WAAW,CAAC,IADiB,CAZjC;AAAA,iDAeS,GAfT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;;AA3BF,OAAA,CAAA,iBAAA,GAAA,iBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NameRegistryState = void 0;\nconst web3_js_1 = require(\"@solana/web3.js\");\nclass NameRegistryState {\n    constructor(obj) {\n        this.parentName = new web3_js_1.PublicKey(obj.parentName);\n        this.owner = new web3_js_1.PublicKey(obj.owner);\n        this.class = new web3_js_1.PublicKey(obj.class);\n        this.data = Buffer.from(obj.data);\n    }\n    static deserialize(buffer) {\n        return new NameRegistryState({\n            parentName: buffer.slice(0, 32),\n            owner: buffer.slice(32, 64),\n            class: buffer.slice(64, 96),\n            data: buffer.slice(96, buffer.length),\n        });\n    }\n    static async retrieve(connection, nameAccountKey) {\n        const nameAccount = await connection.getAccountInfo(nameAccountKey, 'processed');\n        if (!nameAccount) {\n            throw new Error('Invalid name account provided');\n        }\n        const res = NameRegistryState.deserialize(nameAccount.data);\n        return res;\n    }\n}\nexports.NameRegistryState = NameRegistryState;\n//# sourceMappingURL=state.js.map"]},"metadata":{},"sourceType":"script"}