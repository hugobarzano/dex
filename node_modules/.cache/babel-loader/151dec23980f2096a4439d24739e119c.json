{"ast":null,"code":"import _objectSpread from\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/serum-dex-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Row,Col,Typography,Tag}from'antd';import{useFeeDiscountKeys}from'../../utils/markets';import DataTable from'../layout/DataTable';import{TokenInstructions,getFeeRates}from'@project-serum/serum';import{percentFormat}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FeesTable(){var _useFeeDiscountKeys=useFeeDiscountKeys(),_useFeeDiscountKeys2=_slicedToArray(_useFeeDiscountKeys,1),feeAccounts=_useFeeDiscountKeys2[0];var columns=[{title:'Fee Tier',dataIndex:'feeTier',key:'feeTier',render:function render(feeTier,row){return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(Typography,{children:feeTier}),row.index===0?/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:10},children:/*#__PURE__*/_jsx(Tag,{color:'#41C77A',style:{fontWeight:700},children:\"Selected\"})}):null]});}},{title:'Taker',dataIndex:'taker',key:'taker',render:function render(feeTier,row){return percentFormat.format(getFeeRates(row.feeTier).taker);}},{title:'Maker',dataIndex:'maker',key:'maker',render:function render(feeTier,row){return percentFormat.format(getFeeRates(row.feeTier).maker);}},{title:\"Public Key\",dataIndex:'pubkey',key:'pubkey',render:function render(pubkey){return pubkey.toBase58();}},{title:\"Balance\",dataIndex:'balance',key:'balance'},{title:\"Mint\",dataIndex:'mint',key:'mint',render:function render(_,row){return row.mint.equals(TokenInstructions.SRM_MINT)?'SRM':row.mint.equals(TokenInstructions.MSRM_MINT)?'MSRM':'UNKNOWN';}}];var dataSource=(feeAccounts||[]).map(function(account,index){return _objectSpread(_objectSpread({},account),{},{index:index,key:account.pubkey.toBase58()});});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsx(DataTable,{dataSource:dataSource,columns:columns,pagination:true,pageSize:5,emptyLabel:\"No (M)SRM accounts\"})})}),/*#__PURE__*/_jsx(Row,{style:{marginTop:8},children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Typography,{children:\"Holding SRM or MSRM makes you eligible for fee discounts:\"}),/*#__PURE__*/_jsx(FeeScheduleTable,{})]})})]});}function FeeScheduleTable(){// Representation of serum-js/src/fees.ts\nvar dataSource=[{feeTier:0,taker:0.0022,maker:-0.0003,token:'',balance:''},{feeTier:1,taker:0.002,maker:-0.0003,token:'SRM',balance:100},{feeTier:2,taker:0.0018,maker:-0.0003,token:'SRM',balance:1000},{feeTier:3,taker:0.0016,maker:-0.0003,token:'SRM',balance:10000},{feeTier:4,taker:0.0014,maker:-0.0003,token:'SRM',balance:100000},{feeTier:5,taker:0.0012,maker:-0.0003,token:'SRM',balance:1000000},{feeTier:6,taker:0.001,maker:-0.0005,token:'MSRM',balance:1}];var columns=[{title:'Fee Tier',dataIndex:'feeTier',key:'feeTier'},{title:'Taker',dataIndex:'taker',key:'taker',render:function render(feeTier,row){return percentFormat.format(getFeeRates(row.feeTier).taker);}},{title:'Maker',dataIndex:'maker',key:'maker',render:function render(feeTier,row){return percentFormat.format(getFeeRates(row.feeTier).maker);}},{title:'Requirements',dataIndex:'requirements',key:'requirements',render:function render(_,row){return/*#__PURE__*/_jsx(Typography,{children:!row.balance?'None':\"\\u2265 \".concat(row.balance,\" \").concat(row.token)});}}];return/*#__PURE__*/_jsx(DataTable,{dataSource:dataSource.map(function(info){return _objectSpread(_objectSpread({},info),{},{key:info.feeTier});}),columns:columns});}","map":{"version":3,"sources":["/Users/cesarhugo.barzano/Desktop/CesarCorp/coins/serum-dex-ui/src/components/UserInfoTable/FeesTable.js"],"names":["React","Row","Col","Typography","Tag","useFeeDiscountKeys","DataTable","TokenInstructions","getFeeRates","percentFormat","FeesTable","feeAccounts","columns","title","dataIndex","key","render","feeTier","row","display","index","marginLeft","fontWeight","format","taker","maker","pubkey","toBase58","_","mint","equals","SRM_MINT","MSRM_MINT","dataSource","map","account","marginTop","FeeScheduleTable","token","balance","info"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Row, Col, Typography, Tag } from 'antd';\nimport { useFeeDiscountKeys } from '../../utils/markets';\nimport DataTable from '../layout/DataTable';\nimport { TokenInstructions, getFeeRates } from '@project-serum/serum';\nimport { percentFormat } from '../../utils/utils';\n\nexport default function FeesTable() {\n  const [feeAccounts] = useFeeDiscountKeys();\n\n  const columns = [\n    {\n      title: 'Fee Tier',\n      dataIndex: 'feeTier',\n      key: 'feeTier',\n      render: (feeTier, row) => (\n        <div style={{ display: 'flex' }}>\n          <Typography>{feeTier}</Typography>\n          {row.index === 0 ? (\n            <div style={{ marginLeft: 10 }}>\n              <Tag color={'#41C77A'} style={{ fontWeight: 700 }}>\n                Selected\n              </Tag>\n            </div>\n          ) : null}\n        </div>\n      ),\n    },\n    {\n      title: 'Taker',\n      dataIndex: 'taker',\n      key: 'taker',\n      render: (feeTier, row) =>\n        percentFormat.format(getFeeRates(row.feeTier).taker),\n    },\n    {\n      title: 'Maker',\n      dataIndex: 'maker',\n      key: 'maker',\n      render: (feeTier, row) =>\n        percentFormat.format(getFeeRates(row.feeTier).maker),\n    },\n    {\n      title: `Public Key`,\n      dataIndex: 'pubkey',\n      key: 'pubkey',\n      render: (pubkey) => pubkey.toBase58(),\n    },\n    {\n      title: `Balance`,\n      dataIndex: 'balance',\n      key: 'balance',\n    },\n    {\n      title: `Mint`,\n      dataIndex: 'mint',\n      key: 'mint',\n      render: (_, row) =>\n        row.mint.equals(TokenInstructions.SRM_MINT)\n          ? 'SRM'\n          : row.mint.equals(TokenInstructions.MSRM_MINT)\n          ? 'MSRM'\n          : 'UNKNOWN',\n    },\n  ];\n\n  const dataSource = (feeAccounts || []).map((account, index) => ({\n    ...account,\n    index,\n    key: account.pubkey.toBase58(),\n  }));\n\n  return (\n    <>\n      <Row>\n        <Col span={24}>\n          <DataTable\n            dataSource={dataSource}\n            columns={columns}\n            pagination={true}\n            pageSize={5}\n            emptyLabel=\"No (M)SRM accounts\"\n          />\n        </Col>\n      </Row>\n      <Row style={{ marginTop: 8 }}>\n        <Col>\n          <Typography>\n            Holding SRM or MSRM makes you eligible for fee discounts:\n          </Typography>\n          <FeeScheduleTable />\n        </Col>\n      </Row>\n    </>\n  );\n}\n\nfunction FeeScheduleTable() {\n  // Representation of serum-js/src/fees.ts\n  const dataSource = [\n    { feeTier: 0, taker: 0.0022, maker: -0.0003, token: '', balance: '' },\n    { feeTier: 1, taker: 0.002, maker: -0.0003, token: 'SRM', balance: 100 },\n    { feeTier: 2, taker: 0.0018, maker: -0.0003, token: 'SRM', balance: 1000 },\n    { feeTier: 3, taker: 0.0016, maker: -0.0003, token: 'SRM', balance: 10000 },\n    {\n      feeTier: 4,\n      taker: 0.0014,\n      maker: -0.0003,\n      token: 'SRM',\n      balance: 100000,\n    },\n    {\n      feeTier: 5,\n      taker: 0.0012,\n      maker: -0.0003,\n      token: 'SRM',\n      balance: 1000000,\n    },\n    { feeTier: 6, taker: 0.001, maker: -0.0005, token: 'MSRM', balance: 1 },\n  ];\n  const columns = [\n    {\n      title: 'Fee Tier',\n      dataIndex: 'feeTier',\n      key: 'feeTier',\n    },\n    {\n      title: 'Taker',\n      dataIndex: 'taker',\n      key: 'taker',\n      render: (feeTier, row) =>\n        percentFormat.format(getFeeRates(row.feeTier).taker),\n    },\n    {\n      title: 'Maker',\n      dataIndex: 'maker',\n      key: 'maker',\n      render: (feeTier, row) =>\n        percentFormat.format(getFeeRates(row.feeTier).maker),\n    },\n    {\n      title: 'Requirements',\n      dataIndex: 'requirements',\n      key: 'requirements',\n      render: (_, row) => (\n        <Typography>\n          {!row.balance ? 'None' : `≥ ${row.balance} ${row.token}`}\n        </Typography>\n      ),\n    },\n  ];\n  return (\n    <DataTable\n      dataSource={dataSource.map((info) => ({ ...info, key: info.feeTier }))}\n      columns={columns}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}